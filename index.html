<!DOCTYPE html>
<html>

<!-- Written by Constantine Heinrich Chen (ConsHein Chen) -->

<!-- Last Change: 2025-09-15 -->

<head>
  <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width">
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Expires" content="0">

  <script>
    // Performance optimization: immediately define throttle and debounce functions to ensure they are available before any other scripts
    (function() {
      // Throttle function to limit event trigger frequency
      function throttle(func, limit) {
        let inThrottle;
        return function() {
          const args = arguments;
          const context = this;
          if (!inThrottle) {
            func.apply(context, args);
            inThrottle = true;
            setTimeout(() => inThrottle = false, limit);
          }
        };
      }
      
      // Debounce function to delay event execution
      function debounce(func, wait) {
        let timeout;
        return function() {
          const context = this;
          const args = arguments;
          clearTimeout(timeout);
          timeout = setTimeout(() => func.apply(context, args), wait);
        };
      }
      
      // Add functions to global scope
      window.throttle = throttle;
      window.debounce = debounce;
    })();
    
    // Clear local storage when page loads
    window.onload = function() {
      localStorage.clear();
      // Force scroll to top when page loads
      window.scrollTo(0, 0);
      // Disable browser's automatic scroll restoration
      if ('scrollRestoration' in history) {
        history.scrollRestoration = 'manual';
      }
    };
  </script>

  <link rel="stylesheet" href="src/all_min.css">
  <script src="src/chart.js"></script>

  <style>
    :root {
        --primary: #2a6bc6;
        --secondary: #1a3a7a;
        --accent: #34cceb;
        --dark: #0a1429;
        --light: #f0f8ff;
        --gray: #5a708a;
        --green: #34cc8b;
    }
    
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        font-weight: 500;
        
        /* Performance optimization: reduce repaints and reflows */
        will-change: transform;
        backface-visibility: hidden;
        transform: translateZ(0);
    }
    
    /* Performance optimization: specify will-change property for animated elements */
    .logo, .left-sidebar img, nav, .reveal, .paper {
        will-change: transform, opacity;
    }
    
    /* Performance optimization: reduce repaints for animated elements */
    .left-sidebar img {
        transform: translateZ(0);
        backface-visibility: hidden;
    }
    
    /* Performance optimization: optimize scrolling performance */
    body {
      background: linear-gradient(135deg, var(--dark) 0%, #0c1d3e 100%);
      color: var(--light);
      line-height: 1.6;
      /* Removed scroll-behavior: smooth to prevent auto-scrolling on page load */
      
      /* Performance optimization: reduce repaints during scrolling */
      overflow-y: overlay;
    }
    
    /* Performance optimization: optimize scrolling container */
    .left-sidebar {
      overflow-y: overlay;
      -webkit-overflow-scrolling: touch;
      will-change: scroll-position;
    }
    
    
    
    /* Modal Styles */
    .modal {
      display: none;
      /* Hidden by default */
      position: fixed;
      /* Stay in place */
      z-index: 1000;
      /* Sit on top */
      padding-top: 50px;
      /* Location of the box */
      left: 0;
      top: 0;
      width: 100%;
      /* Full width */
      height: 100%;
      /* Full height */
      overflow: auto;
      /* Enable scroll if needed */
      background-color: rgba(0, 0, 0, 0.9);
      /* Black w/ opacity */
    }

    .modal-content {
      margin: 0;
      /* Reset margin */
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      display: block;
      max-width: 90%;
      max-height: 80vh;
    }

    .modal-caption {
      margin: auto;
      display: block;
      width: 80%;
      max-width: 700px;
      text-align: center;
      color: #ccc;
      padding: 10px 0;
      height: 150px;
    }

    .close-btn {
      position: absolute;
      top: 15px;
      right: 35px;
      color: #f1f1f1;
      font-size: 40px;
      font-weight: bold;
      transition: 0.3s;
    }

    .close-btn:hover,
    .close-btn:focus {
      color: #bbb;
      text-decoration: none;
      cursor: pointer;
    }

    @media only screen and (max-width: 700px) {
      .modal-content {
        width: 100%;
      }
    }

    /* Define page layout as flex container */
    .page-container {
      display: flex;
      padding-top: 0px;
      /* Reduced padding for sticky navbar */
      min-height: calc(100vh - 60px);
      /* Full viewport height minus navbar */
      position: relative;
    }

    /* Define left sidebar style */
    .left-sidebar {
      width: 33.33%;
      padding: 0px 20px 20px 20px;
      position: fixed;
      height: calc(100vh - 60px);
      overflow-y: auto;
      background-color: transparent;
      backdrop-filter: none;
      border-right: none;
      z-index: 100;
      top: 60px;
      /* Position below the sticky navbar */
    }

    /* Ensure left sidebar reveal class doesn't affect desktop view */
    .left-sidebar.reveal {
      position: fixed;
      transform: none;
      opacity: 1;
      transition: none;
    }

    .left-sidebar.reveal > * {
      transform: none;
      opacity: 1;
      transition: none;
    }

    /* Define main content area style */
    .main-content {
      width: 58.67%;
      padding: 20px;
      margin-left: 35.33%;
      min-height: calc(100vh - 60px - 120px);
      /* Viewport height minus navbar and footer */
    }

    /* Define right margin style */
    .right-margin {
      width: 8%;
      padding: 10px;
      margin-left: 92%;
      position: fixed;
      height: 100vh;
      display: none;
      /* Hide right margin as it's not commonly used in modern designs */
    }

    /* Define bold and large text style */
    .bold-large-text {
      font-weight: 700;
      font-size: 24px;
      color: var(--light);
    }

    /* Define link color */
    a {
      color: var(--accent);
      text-decoration: none;
      transition: color 0.3s ease;
    }

    a:hover {
      color: var(--primary);
      text-decoration: underline;
    }

    /* Define navigation bar style */
    nav {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 1rem 5%;
      background: rgba(10, 20, 41, 0.8);
      backdrop-filter: blur(10px);
      box-shadow: 0 2px 15px rgba(0, 30, 90, 0.4);
      position: sticky;
      top: 0;
      left: 0;
      right: 0;
      z-index: 1000;
      transition: background 0.3s ease, box-shadow 0.3s ease;
    }
    
    /* Define logo style */
    .logo {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      font-size: 1.5rem;
      font-weight: 700;
      color: white;
      transition: transform 0.3s ease;
      cursor: default;
    }
    
    .logo:hover {
      transform: scale(1.05);
    }
    
    .logo img {
      height: 40px;
      width: auto;
      transition: transform 0.3s ease;
    }
    
    .logo:hover img {
      transform: rotate(10deg);
    }

    /* Navigation links container */
    .nav-links-container {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 1rem;
    }

    nav.scrolled {
      padding: 0.7rem 5%;
      background: rgba(10, 20, 41, 0.95);
      box-shadow: 0 4px 20px rgba(0, 30, 90, 0.6);
      transition: padding 0.3s ease, background 0.3s ease, box-shadow 0.3s ease;
    }

    /* Set the style of the links in the left sidebar */
    .left-sidebar a {
      color: rgba(255, 255, 255, 0.8);
      text-decoration: none;
      transition: all 0.3s ease;
      display: inline-block;
      padding: 2px 0;
    }

    /* Set the style of the links in the left sidebar when hovered */
    .left-sidebar a:hover {
      color: var(--accent);
      text-decoration: none;
      transform: translateX(5px);
    }

    /* Add hover effect for sidebar icons */
    .left-sidebar img {
      transition: transform 0.3s ease;
    }

    .left-sidebar img:hover {
      transform: scale(1.1);
    }

    /* Add special hover effect for profile photo */
    .left-sidebar img[alt="photo"] {
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }

    .left-sidebar img[alt="photo"]:hover {
      transform: scale(1.05);
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
    }

    /* Define the style of the footer */
    footer {
      text-align: center; 
      padding: 30px 20px; 
      background-color: rgba(10, 20, 41, 0.7);
      backdrop-filter: blur(10px);
      border-top: 1px solid rgba(173, 216, 230, 0.2);
      max-height: 10vh;
      margin-top: 40px;
    }

    footer p {
      margin: 0;
      font-size: 16px;
      color: rgba(255, 255, 255, 0.8);
    }

    footer a {
      color: var(--accent);
      text-decoration: none;
      transition: color 0.3s ease;
    }

    footer a:hover {
      color: var(--primary);
      text-decoration: underline;
    }

    /* Define responsive styles for screens with a maximum width of 768px */
    @media (max-width: 768px), (max-height: 667px) {
      /* Adjust left sidebar for mobile */
      .left-sidebar {
        border-bottom: none;
        position: static;
        height: auto;
        width: 100%;
        padding: 5px 15px 15px 15px;
        background-color: transparent;
        display: none;
      }

      /* Add reveal animation for left sidebar in mobile view */
      .left-sidebar.reveal {
        position: relative;
        transform: translateY(30px);
        opacity: 0;
        transition: all 0.8s ease;
      }

      .left-sidebar.reveal.active {
        transform: translateY(0);
        opacity: 1;
      }

      /* Add staggered animation for children elements in left sidebar */
      .left-sidebar.reveal > * {
        transform: translateY(20px);
        opacity: 0;
        transition: all 0.6s ease;
      }

      .left-sidebar.reveal.active > * {
        transform: translateY(0);
        opacity: 1;
      }

      .left-sidebar.reveal.active > *:nth-child(1) { transition-delay: 0.1s; }
      .left-sidebar.reveal.active > *:nth-child(2) { transition-delay: 0.2s; }
      .left-sidebar.reveal.active > *:nth-child(3) { transition-delay: 0.3s; }
      .left-sidebar.reveal.active > *:nth-child(4) { transition-delay: 0.4s; }
      .left-sidebar.reveal.active > *:nth-child(5) { transition-delay: 0.5s; }
      
      #home h1 {
        font-size: 30px !important;
      }

      /* Adjust page container for mobile */
      .page-container {
        padding-top: 0;
        min-height: 100vh;
      }

      /* Adjust main content for mobile */
      .main-content {
        width: 100%;
        padding: 20px 15px 15px 15px;
        margin-left: 0;
        min-height: auto;
      }

      /* Adjust sections for mobile */
      section {
        padding-top: 20px;
      }

      /* Adjust navigation bar for mobile */
      nav {
        flex-wrap: wrap;
        justify-content: center;
        padding: 0.8rem 3%;
        height: auto;
        min-height: 80px;
        position: sticky;
        top: 0;
        left: 0;
        right: 0;
        z-index: 1000;
      }
      
      /* Adjust logo for mobile */
      .logo {
        font-size: 1.2rem;
        margin-bottom: 0.5rem;
      }
      
      .logo img {
        height: 30px;
      }

      /* Adjust navigation links container for mobile */
      .nav-links-container {
        gap: 0.5rem;
        width: 100%;
        justify-content: center;
      }

      /* Adjust navigation bar links for mobile */
      nav a {
        margin: 0;
        font-size: 14px;
        padding: 0.4rem 0.8rem;
        display: flex;
        align-items: center;
        justify-content: center;
        height: 30px;
      }

      /* Adjust the maximum width and height of the navigation icon */
      .nav-icon {
        max-width: 30px;
        max-height: 30px;
        transition: transform 0.3s ease;
        margin: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        height: 30px;
      }

      .nav-icon:hover {
        transform: scale(1.1);
      }

      /* Change the layout of education items to a column */
      .education-item {
        flex-direction: column;
        align-items: flex-start;
        padding: 15px;
        border-radius: 10px;
        background-color: rgba(10, 20, 41, 0.3);
        margin-bottom: 15px;
      }

      /* Adjust the margin of the education logo wrapper */
      .education-logo-wrapper {
        margin-right: 0;
        margin-bottom: 15px;
        width: 100%;
        text-align: center;
        display: flex;
        justify-content: center;
      }

      /* Change the layout of paper items to a column */
      .paper-item {
        flex-direction: column;
        align-items: flex-start;
        padding: 15px;
        border-radius: 10px;
        background-color: rgba(10, 20, 41, 0.3);
        margin-bottom: 15px;
      }

      /* Adjust the margin of the paper logo wrapper */
      .paper-logo-wrapper {
        margin-right: 0;
        margin-bottom: 15px;
        width: 100%;
        text-align: center;
        display: flex;
        justify-content: center;
      }

      /* Change the layout of publication paper containers to a column like experience section */
      #publications #paper-container>div {
        flex-direction: column;
        align-items: flex-start;
        padding: 15px;
        border-radius: 10px;
        background-color: rgba(10, 20, 41, 0.3);
        margin-bottom: 15px;
      }

      /* Adjust the padding of paper info in mobile view */
      .paper-info {
        padding-left: 0 !important;
      }

      /* Change the layout of selected papers containers to a column */

      /* Center section titles in mobile view */
      .section-title {
        text-align: center !important;
      }

      /* Center download button in mobile view */
      .download-btn {
        display: block !important;
        margin-left: auto !important;
        margin-right: auto !important;
      }

        /* News item style */
        .news-item {
          display: flex;
          align-items: flex-start;
          gap: 30px;
          margin-bottom: 40px;
          transition: transform 0.3s ease, box-shadow 0.3s ease;
          padding: 15px;
          border-radius: 8px;
          background-color: rgba(10, 20, 41, 0.2);
        }

        .news-item:hover {
          transform: translateY(-3px);
          box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }

        /* News time style */
        .news-time {
          min-width: 120px;
          text-align: left;
          font-weight: 600;
          color: var(--accent);
          transition: color 0.3s ease;
        }

        .news-item:hover .news-time {
          color: var(--primary);
        }

        /* News content style */
        .news-content {
          flex-grow: 1;
          transition: color 0.3s ease;
        }

        .news-item:hover .news-content {
          color: rgba(255, 255, 255, 0.95);
        }

        /* Change news layout to vertical on small screens */
        @media (max-width: 768px) {
          .news-item {
            flex-direction: column;
            gap: 10px;
          }

          .news-time {
            min-width: auto;
            margin-bottom: 5px;
          }

          /* Add line break in footer on small screens */
          .footer-break {
            display: block;
          }
        }
      /* Selected papers container now directly contains flex items */
      #selected-papers-content {
        display: flex;
        flex-direction: column;
        width: 100%;
        box-sizing: border-box;
        padding: 0;
      }

      #selected-papers-content > div {
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        padding: 15px;
        border-radius: 10px;
        background-color: rgba(10, 20, 41, 0.3);
        margin-bottom: 15px;
      }

      #selected-papers-content > div:hover {
        transform: translateY(-3px);
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
      }

      /* Adjust the margin and size of images in publication and selected papers containers like experience section */
      #publications #paper-container img,
      #selected-papers-content img {
        margin-right: 0;
        margin-bottom: 15px;
        width: 100%;
        text-align: center;
        display: flex;
        justify-content: center;
      }

      #publications #paper-container img:hover,
      #selected-papers-content img:hover {
        transform: none;
        box-shadow: none;
      }

      /* Adjust the style of paper content to match experience section */
      #publications #paper-container .paper {
        border: none;
        padding-left: 0;
        flex: 1;
      }

      #publications #paper-container .paper p {
        margin-bottom: 0.5rem;
      }

      /* Adjust the style of selected paper content to reduce container size */
      #selected-papers-content .paper {
        border: none;
        padding-left: 0;
        flex: 1;
      }

      #selected-papers-content .paper p {
        margin-bottom: 0.5rem;
      }

      #selected-papers-content .paper h3 {
        margin-bottom: 0.5rem;
        margin-top: 0;
        font-size: 1rem;
        color: var(--light);
        font-weight: 600;
      }

      /* Set the width and height of the homepage image to 40% */
      img[src="images/homepage/excursion-conshein.png"] {
        width: 40% !important;
        height: 40% !important;
      }

      /* Change selected papers layout to vertical on small screens like publications section */
      @media (max-width: 768px) {
        /* Add line break in footer on small screens */
        .footer-break {
          display: block;
        }
        
        /* Change publications layout to vertical (image above, text below) on small screens */
        #publications #paper-container>div {
          flex-direction: column;
          align-items: flex-start;
          padding: 15px;
          border-radius: 10px;
          background-color: rgba(10, 20, 41, 0.3);
          margin-bottom: 15px;
        }
        
        #publications #paper-container img {
          margin-right: 0;
          margin-bottom: 15px;
          width: 100%;
          text-align: center;
          display: flex;
          justify-content: center;
        }
        
        #publications #paper-container .paper {
          border: none;
          padding-left: 0;
          flex: 1;
        }
        
        /* Change selected papers layout to vertical (image above, text below) on small screens */
        #selected-papers-content > div {
          flex-direction: column;
          align-items: flex-start;
          padding: 15px;
          border-radius: 10px;
          background-color: rgba(10, 20, 41, 0.3);
          margin-bottom: 15px;
        }
        
        #selected-papers-content img {
          margin-right: 0;
          margin-bottom: 15px;
          width: 100%;
          text-align: center;
          display: flex;
          justify-content: center;
        }
        
        #selected-papers-content .paper {
          border: none;
          padding-left: 0;
          flex: 1;
        }
        
        /* 修改featured-paper-container在移动设备上的布局 */
        .featured-paper-container {
          flex-direction: column !important;
          align-items: center !important;
        }
        
        .featured-paper-container > div:first-child {
          margin-right: 0 !important;
          margin-left: 0 !important;
          margin-bottom: 15px !important;
          width: 100% !important;
          justify-content: center !important;
        }
        
        .featured-paper-container > div:last-child {
          padding-left: 0 !important;
          padding-top: 15px !important;
          width: 100% !important;
        }
      }

      /* Adjust the size of images in the left sidebar's specific container */
      .left-sidebar div[style*="text-align: center; background-color: rgba(255, 255, 200, 0.3);"] img {
        width: 20px !important;
        height: 20px !important;
        margin-right: 8px !important;
      }

      /* Change the layout of the page container to a column */
      .page-container {
        flex-direction: column;
        padding-top: 0;
      }

      /* Set the width of the left sidebar to 100% */
      .left-sidebar {
        width: 100%;
        box-sizing: border-box;
      }

      /* Set the width of the main content area to 100% */
      .main-content {
        width: 100%;
        box-sizing: border-box;
        margin-left: 0;
      }

      /* Set the width of the right margin to 100% */
      .right-margin {
        width: 100%;
        box-sizing: border-box;
      }

      /* Adjust cv pdf size for mobile */
      #cv object {
        width: 100% !important;
        height: 500px !important;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      }

      /* Adjust footer style for mobile */
      footer {
        border-top: none;
        padding: 20px 15px;
        margin-top: 20px;
      }
    }

    /* Define responsive styles for screens with a minimum width of 769px */
    @media (min-width: 769px) {
      /* Adjust featured paper container for desktop */
      .featured-paper-container {
        flex-direction: row !important;
        align-items: center !important;
      }
      
      .featured-paper-container img {
        margin: 0 15px 0 0 !important;
      }
    }

    /* Define the style of title in each section */
    #subtitle {
        text-align: center;
        margin-bottom: 3.5rem;
        position: relative;
    }

    /* Define the style of Jump button */
    .jump-btn {
      display: inline-block;
      background: linear-gradient(45deg, #ff9900, #ff6600);
      color: white;
      padding: 8px 20px;
      border-radius: 30px;
      text-decoration: none;
      font-weight: 600;
      font-size: 14px;
      letter-spacing: 0.5px;
      box-shadow: 0 4px 15px rgba(255, 153, 0, 0.3);
      transition: all 0.3s ease;
    }

    .jump-btn:hover {
      background-color: var(--secondary);
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      color: white;
      text-decoration: none;
    }

    #subtitle h1 {
        font-size: 2.5rem;
        display: inline-block;
        margin-bottom: 1rem;
    }

    #subtitle h1:after {
        content: '';
        display: block;
        width: 100px;
        height: 4px;
        background: var(--accent);
        margin: 0.75rem auto 0;
        border-radius: 2px;
    }

    #subtitle p {
        color: rgba(255, 255, 255, 0.7);
        max-width: 700px;
        margin: 0 auto;
        font-size: 1.1rem;
    }

    /* Define the style of the navigation icon */
    .nav-icon {
      width: calc(100% - 40px);
      height: calc(100% - 40px);
      max-width: 40px;
      max-height: 40px;
      border-radius: 50%;
      margin-left: 16px;
      cursor: pointer;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      vertical-align: middle;
    }

    .nav-icon:hover {
      transform: scale(1.1);
      box-shadow: 0 0 15px rgba(173, 216, 230, 0.5);
    }

    /* Define the style of navigation bar links */
    nav a {
      text-decoration: none;
      color: rgba(255, 255, 255, 0.8);
      border-radius: 4px;
      transition: all 0.3s ease;
      cursor: pointer;
      border: none;
      font-weight: 500;
      padding: 0.5rem 1rem;
      margin: 0 0.5rem;
    }

    /* Define navigation bar link hover style */
    nav a:hover {
      color: var(--accent);
      background-color: rgba(42, 107, 198, 0.2);
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }

    /* Define navigation bar active link style */
    nav a.active {
      font-weight: 600;
      color: white;
      background-color: var(--primary);
      border: none;
    }

    /* Hide all sections by default */
    section {
      display: none;
      opacity: 0;
      transition: opacity 0.5s ease;
    }

    /* Show active section */
    section.active {
      display: block;
      opacity: 1;
      margin-top: 20px;
    }

    /* Define bottom margin for publications section text */
    #publications p,
    #publications h3 {
      margin-bottom: 0.5em;
    }

    /* Define bottom margin for last paragraph in publication header */
    #publication-header p:last-of-type {
      margin-bottom: calc(3 * 1.5em);
    }

    /* Define heading font size for publication header */
    #publication-header h1 {
      font-size: 36px;
    }

    /* Define publication header style */
    #publication-header {
      border: none;
      padding: 10px;
      background-color: transparent;
    }

    /* Define paper element style */
    .paper {
      border: none;
      border-radius: 10px;
      padding: 1.5rem;
      background-color: rgba(10, 20, 41, 0.4);
      margin-bottom: 1.5rem !important;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .paper:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
    }

    /* Define abstract section style */
    #abstract {
      margin-top: 10px;
      font-size: 14px;
    }

    /* Define style for content links (abstract, PDF, BibTeX, video, code, site) */
    .abs-link,
    .paper-link,
    .bib-link,
    .video-link,
    .code-link,
    .site-link,
    .key-link {
      display: inline-block;
      padding: 6px 16px;
      margin: 5px;
      background-color: rgba(42, 107, 198, 0.2);
      border: none;
      border-radius: 20px;
      text-decoration: none;
      color: var(--light);
      text-align: center;
      font-size: 14px;
      font-weight: 500;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .abs-link:hover,
    .paper-link:hover,
    .bib-link:hover,
    .video-link:hover,
    .code-link:hover,
    .site-link:hover,
    .key-link:hover {
      background-color: var(--primary);
      color: white;
      transform: translateY(-3px);
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
    }

    /* Define education container style */
    .education-container {
      border: none;
      padding: 10px;
      margin-top: 20px;
    }

    /* Define paper container style to match education container */
    .paper-container {
      border: none;
      padding: 10px;
      margin-top: 20px;
    }

    /* Define the style of education items */
    .education-item {
      display: flex;
      align-items: center;
      padding: 1rem;
      border-radius: 8px;
      background-color: rgba(10, 20, 41, 0.3);
      transition: transform 0.3s ease, box-shadow 0.3s ease, background-color 0.3s ease;
    }

    .education-item:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
      background-color: rgba(42, 107, 198, 0.1);
    }

    /* Define the style for section boxes */
    .section-box {
      border: none;
      border-radius: 12px;
      padding: 1.8rem;
      margin-bottom: 1.8rem;
      background-color: rgba(10, 20, 41, 0.6);
      backdrop-filter: blur(5px);
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .section-box:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
    }

    /* Style for section titles */
    .section-title {
      font-size: 22px;
      font-weight: 700;
      margin-bottom: 1.5rem;
      color: var(--accent);
      padding-bottom: 0.75rem;
      position: relative;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    /* Define the style of the education logo wrapper */
    .education-logo-wrapper {
      display: flex;
      align-items: center;
      /* Vertically centered */
      justify-content: center;
      width: 120px;
      height: 120px;
      margin-right: 10px;
    }

    /* Define the style of the education logo */
    .education-logo {
      width: 100px;
      height: 100px;
      transition: transform 0.3s ease;
    }

    .education-logo:hover {
      transform: scale(1.1);
    }

    /* Define the style of the education information section */
    .education-info {
      border: none;
      padding-left: 15px;
      flex: 1;
    }

    .education-info p {
      margin-bottom: 0.5rem;
    }

    /* Define the style of the institution name */
    .institution {
      font-size: 1.2rem;
      font-weight: 700;
      color: var(--light);
      margin-bottom: 0.3rem;
    }

    /* Define the style of the degree information */
    .degree {
      font-size: 1rem;
      font-weight: 600;
      color: #00FF7F;
    }

    /* Define the style of the major information */
    .major {
      margin-left: 8px;
      font-style: italic;
      color: rgba(255, 255, 255, 0.8);
    }

    /* Define the style of the time information */
    .time {
      font-size: 0.9rem;
      color: rgba(255, 255, 255, 0.6);
    }

    /* Define paper container style to match education container */
    .paper-item {
      display: flex;
      align-items: center;
      padding: 1rem;
      border-radius: 8px;
      background-color: rgba(10, 20, 41, 0.3);
      transition: transform 0.3s ease, box-shadow 0.3s ease, background-color 0.3s ease;
    }

    .paper-item:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
      background-color: rgba(42, 107, 198, 0.1);
    }

    /* Define the style of the paper logo wrapper */
    .paper-logo-wrapper {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 220px;
      height: 220px;
      margin-right: 10px;
    }

    /* Define the style of the paper logo */
    .paper-logo {
      width: 200px;
      height: 200px;
      transition: transform 0.3s ease;
      border-radius: 5px;
    }

    .paper-logo:hover {
      transform: scale(1.1);
    }

    /* Define the style of the paper information section */
    .paper-info {
      border: none;
      padding-left: 15px;
      flex: 1;
    }

    .paper-info p {
      margin-bottom: 0.5rem;
    }

    /* Define the style of the paper title */
    .paper-title {
      font-size: 1.2rem;
      font-weight: 700;
      color: var(--light);
      margin-bottom: 0.3rem;
    }

    /* Define the style of the paper authors */
    .paper-authors {
      font-size: 1rem;
      font-weight: 500;
      color: rgba(255, 255, 255, 0.9);
    }

    /* Define the style of the paper venue */
    .paper-venue {
      font-size: 0.9rem;
      color: rgba(255, 255, 255, 0.8);
    }

    /* Define the style of the paper links */
    .paper-links {
      font-size: 0.9rem;
      color: rgba(255, 255, 255, 0.7);
    }

    /* Define the style of the paper abstract */
    .paper-abstract {
      font-size: 0.9rem;
      color: rgba(255, 255, 255, 0.8);
      background-color: rgba(10, 20, 41, 0.2);
      border-radius: 5px;
      padding: 10px;
      margin-top: 10px;
    }

    /* Define the style of the paper award */
    .paper-award {
      font-size: 0.9rem;
      color: rgba(255, 255, 255, 0.8);
      background-color: rgba(10, 20, 41, 0.2);
      border-radius: 5px;
      padding: 10px;
      margin-top: 10px;
    }

    /* Define the style of the paper keywords */
    .paper-keywords {
      font-size: 0.9rem;
      color: rgba(255, 255, 255, 0.8);
      background-color: rgba(10, 20, 41, 0.2);
      border-radius: 5px;
      padding: 10px;
      margin-top: 10px;
    }

    /* Define the style of the paper bibtex */
    .paper-bibtex {
      font-size: 0.9rem;
      color: rgba(255, 255, 255, 0.8);
      background-color: rgba(10, 20, 41, 0.2);
      border-radius: 5px;
      padding: 10px;
      margin-top: 10px;
    }

    /* Define the style of the paper video */
    .paper-video {
      font-size: 0.9rem;
      color: rgba(255, 255, 255, 0.8);
      background-color: rgba(10, 20, 41, 0.2);
      border-radius: 5px;
      padding: 10px;
      margin-top: 10px;
    }

    /* Define basic HTML page style */
    html {
      position: relative;
      background-color: #000033;
      color: white;
      /* Removed scroll-behavior: smooth to prevent auto-scrolling on page load */
    }

    /* Add scrollbar styling */
    ::-webkit-scrollbar {
      width: 10px;
    }

    ::-webkit-scrollbar-track {
      background: rgba(10, 20, 41, 0.3);
    }

    ::-webkit-scrollbar-thumb {
      background: var(--primary);
      border-radius: 5px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: var(--accent);
    }

    /* Define body style */
    body {
      color: var(--light);
      line-height: 1.6;
      opacity: 0;
      animation: fadeIn 0.8s ease-in-out forwards;
    }

    /* Fade in animation */
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    /* Slide up animation */
    @keyframes slideUp {
      from { 
        opacity: 0;
        transform: translateY(20px);
      }
      to { 
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* Apply slide up animation to sections */
    section {
      animation: slideUp 0.6s ease-out forwards;
      opacity: 1;
      transition: opacity 0.5s ease;
    }
    
    section.active {
      opacity: 1;
    }

    /* Add scroll reveal animation */
    .reveal {
      position: relative;
      transform: translateY(0);
      opacity: 1;
      transition: all 0.8s ease;
    }

    .reveal.active {
      transform: translateY(0);
      opacity: 1;
    }

    /* Add staggered animation for children elements */
    .reveal > * {
      transform: translateY(0);
      opacity: 1;
      transition: all 0.6s ease;
    }

    .reveal.active > * {
      transform: translateY(0);
      opacity: 1;
    }

    .reveal.active > *:nth-child(1) { transition-delay: 0.1s; }
    .reveal.active > *:nth-child(2) { transition-delay: 0.2s; }
    .reveal.active > *:nth-child(3) { transition-delay: 0.3s; }
    .reveal.active > *:nth-child(4) { transition-delay: 0.4s; }
    .reveal.active > *:nth-child(5) { transition-delay: 0.5s; }
    
    /* Define paragraph style */
    p {
      margin-bottom: 1.5rem;
      transition: color 0.3s ease;
    }
    
    /* Define heading style */
    h1, h2, h3, h4, h5, h6 {
      margin-bottom: 1rem;
      line-height: 1.3;
      font-weight: 600;
      transition: color 0.3s ease;
    }

    /* Add hover effect for headings */
    h1:hover, h2:hover, h3:hover {
      color: var(--accent);
    }

    /* Add background image with opacity to HTML page */
    html::before {
      content: '';
      
    }

    /* Define paper container style in publications section */
    #publications #paper-container {
      border: none;
      padding: 10px 0;
      background-color: transparent;
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
    }

    /* Define basic table style */
    table {
      border-collapse: collapse;
      width: 80%;
      margin: 0 auto;
    }

    /* Define style for table, headers, and cells */
    table,
    th,
    td {
      border: none;
      text-align: center;
    }

    /* Define table header style */
    th {
      background-color: rgba(0, 0, 51, 0.8);
    }

    /* Define preformatted text style for BibTeX sections */
    #publications [id^="bibtex-"] pre {
      white-space: pre-wrap;
      word-wrap: break-word;
      width: 100%;
      overflow-wrap: break-word;
      box-sizing: border-box;
    }

    .pulse {
      animation: pulse 2s infinite;
    }

    /* Define horizontal rule style */
    hr {
      border: none;
      margin: 30px 0;
      transition: border-color 0.3s ease;
    }

    hr:hover {
      border-color: var(--accent);
    }

  </style>
  <link rel="shortcut icon" type="image/x-icon" href="images/homepage/favicon/favicon.ico">
</head>

<body>
  <nav>
    <div class="logo">
      <img src="images/homepage/favicon/favicon.ico" alt="favicon">
      <span onclick="showSidebar()" style="cursor: pointer;">EXCURSION CONSHEIN 2.0</span>
    </div>
    <div class="nav-links-container">
      <a onclick="showPage('experiences')" id="nav-experiences">Experiences</a>
      <a onclick="showPage('publications')" id="nav-publications">Publications</a>
      <a onclick="showPage('cv')" id="nav-cv">CV</a>
      <img src="images/homepage/homekey/homekey.png" alt="excursion-conshein" class="nav-icon"
        onclick="showPage('home')" id="nav-icon">
    </div>
  </nav>


  <div class="page-container">
    <div class="left-sidebar reveal">
      <img src="images/homepage/photo/photo.png" alt="photo"
        style="display: block; margin-left: auto; margin-right: auto; margin-top: 5%; max-width: 25vh; height: auto; border-radius: 50%; overflow: hidden;">
      <div style="text-align: center; margin-top: 20px;">
        <p id="name" style="font-size: 30px; font-weight: bold;"></p>
      </div>
      <div style="margin-left: calc(50% - 110px); ">
        <img src="images/homepage/info icon/location.png" alt="location"
        style="width: 20px; height: 20px; margin-right: 15px; filter: invert(100%); float: left; margin-right: 5px;">
        <p id="address" style="font-weight: 600;"></p>
        <img src="images/homepage/info icon/school.png" alt="school"
        style="width: 20px; height: 20px; margin-right: 15px; filter: invert(100%); float: left; margin-right: 5px;">
        <p id="institution" style="font-weight: 600;"></p>
        <img src="images/homepage/info icon/google scholar.png" alt="google scholar"
        style="width: 20px; height: 20px; margin-right: 15px; filter: invert(100%); float: left; margin-right: 5px;">
        <p id="googlescholar" style="font-weight: lighter;"></p>
        <img src="images/homepage/info icon/github.png" alt="github"
        style="width: 20px; height: 20px; margin-right: 15px; filter: invert(100%); float: left; margin-right: 5px;">
        <p id="github" style="font-weight: lighter;"></p>
        <img src="images/homepage/info icon/email.png" alt="email"
        style="width: 20px; height: 20px; margin-right: 15px; filter: invert(100%); float: left; margin-right: 5px;">
        <p id="email" style="font-weight: lighter;"></p>
        <img src="images/homepage/info icon/time.png" alt="time"
        style="width: 20px; height: 20px; margin-right: 15px; filter: invert(100%); float: left; margin-right: 5px;">
        <p id="current-time"> </p>
        <script>
          // Initial setting to UTC+8 in case info.json fails to load
          let utcOffsetHours = 8;
          let utcOffsetText = 'UTC+8';

          // Format UTC offset to (UTC ±HH:00) style
          function formatUtcOffset(offset) {
            // Ensure offset is a string
            offset = String(offset);
            
            // Check if UTC is already included
            if (offset.toUpperCase().includes('UTC')) {
              // Extract sign and hours
              const offsetMatch = offset.match(/([+-])(\d+)/);
              if (offsetMatch) {
                const sign = offsetMatch[1];
                const hours = parseInt(offsetMatch[2]).toString().padStart(2, '0');
                return `(UTC ${sign}${hours}:00)`;
              }
            } else {
              // Handle pure number or sign+number format
              const offsetMatch = offset.match(/^([+-]?)(\d+)$/);
              if (offsetMatch) {
                let sign = offsetMatch[1] || '+'; // If no sign, default to +
                const hours = parseInt(offsetMatch[2]).toString().padStart(2, '0');
                return `(UTC ${sign}${hours}:00)`;
              }
            }
            // Default format
            return `(UTC ${offset})`;
          }

          function updateTime() {
            const now = new Date();
            const offsetTime = new Date(now.getTime() + (utcOffsetHours * 60 * 60 * 1000));
            const hours = offsetTime.getUTCHours().toString().padStart(2, '0');
            const minutes = offsetTime.getUTCMinutes().toString().padStart(2, '0');
            const formattedOffset = formatUtcOffset(utcOffsetText);
            const utcOffset = `<span style="font-weight: lighter">${formattedOffset}</span>`;
            document.getElementById('current-time').innerHTML = `${hours}:${minutes} ${utcOffset}`;
          }

          // Execute after DOM is fully loaded
          document.addEventListener('DOMContentLoaded', function() {
            fetch('./configs/info.json')
              .then(response => {
                if (!response.ok) {
                  throw new Error('Failed to fetch info.json');
                }
                return response.json();
              })
              .then(data => {
                // Update UTC offset
                utcOffsetText = data.UTC;
                // Extract hours for calculation
                const offsetMatch = data.UTC.match(/([+-]\d+)/);
                if (offsetMatch) {
                  utcOffsetHours = parseInt(offsetMatch[1]);
                }
                // Update time immediately
                updateTime();
              })
              .catch(error => {
                console.error('Error loading UTC info:', error);
              });
          });

          // Initial update and set timer
          updateTime();
          setInterval(updateTime, 1000);
        </script>
      </div>
      </div>

      <script>
        // Execute after DOM is fully loaded
        document.addEventListener('DOMContentLoaded', function() {
          fetch('./configs/info.json')
            .then(response => {
              if (!response.ok) {
                throw new Error('Failed to fetch info.json');
              }
              return response.json();
            })
            .then(data => {
              document.getElementById('name').textContent = data.name;
              document.getElementById('address').textContent = data.address;
              document.getElementById('institution').textContent = data.institution;
              
              // Add href attributes to links
              const googleScholar = document.getElementById('googlescholar');
              googleScholar.innerHTML = `<a href="${data.googlescholar}" target="_blank">Google Scholar</a>`;
              
              const github = document.getElementById('github');
              github.innerHTML = `<a href="${data.github}" target="_blank">Github</a>`;
              
              const email = document.getElementById('email');
              email.innerHTML = `<a href="mailto:${data.email}">Email</a>`;
              
              // Update page title
              document.title = data.name + "'s Homepage";
              document.getElementById('home-title').textContent = "Welcome to " + data.name + "'s Homepage!";
            })
            .catch(error => {
              console.error('Error loading info:', error);
            });
        });
      </script>
    <div class="main-content">
      <section id="home" class="active">
        <h1 id="home-title" style="text-align: center; font-size: 2.5em; margin-bottom: 30px; color: #a8d8ea;">Welcome to </h1>
        <div class="right-margin">
          <!-- Right independent area, add content as needed -->
        </div>

        <div class="section-box reveal">
          <p id="intro-content"></p>
        </div>
         <h1 class="section-title reveal" style="margin-top: 20px; font-size: 28px;">News</h1>
        <div class="section-box reveal" style="max-height: 350px; overflow-y: auto; margin-top: 10px; margin-bottom: 100px;">
          <div id="news-content" style="padding: 10px; word-wrap: break-word; white-space: pre-wrap;"></div>
        </div>
          <h1 class="section-title reveal" style="margin-top: 100px; font-size: 28px;">Research Highlights</h1>
        <div class="section-box reveal" style="margin-top: 10px; border: none;">
          <div id="selected-papers-content" style="padding: 0;"></div>
        </div>

        <br>

        <script>
          // Load and display homepage content
          // Load introduction text
          fetch('configs/intro.txt')
            .then(response => response.text())
            .then(text => {
              document.getElementById('intro-content').innerHTML = text.replace(/\n/g, '<br>');
            });

          // Load and display news from news.json
          fetch('configs/news.json')
            .then(response => response.json())
            .then(newsData => {
              const newsContainer = document.getElementById('news-content');
              
              // Sort news by time (newest first)
              const sortedNews = newsData.sort((a, b) => new Date(b.time) - new Date(a.time));
              
              sortedNews.forEach((item, index) => {
                const newsItem = document.createElement('div');
                newsItem.className = 'news-item';
                newsItem.style.marginBottom = '40px';
                newsItem.style.display = 'flex';
                newsItem.style.alignItems = 'flex-start';
                newsItem.style.gap = '30px';
                
                // Add special styling for the latest news (first item after sorting)
                if (index === 0) {
                  newsItem.style.border = '2px solid var(--primary)';
                  newsItem.style.borderRadius = '10px';
                  newsItem.style.padding = '15px';
                  newsItem.style.backgroundColor = 'rgba(10, 20, 41, 0.5)';
                  newsItem.style.boxShadow = '0 4px 12px rgba(0, 123, 255, 0.3)';
                }

                // Format date (e.g. 2025-07-19 -> Jul 19, 2025)
                const dateParts = item.time.split('-');
                const date = new Date(dateParts[0], dateParts[1] - 1, dateParts[2]);
                const formattedDate = date.toLocaleDateString('en-US', {
                  year: 'numeric',
                  month: 'short',
                  day: '2-digit'
                }).replace(/\b(\w{3})\b/, '$1.');

                const timeElement = document.createElement('div');
                timeElement.className = 'news-time';
                // Font size is now controlled by CSS media queries
                timeElement.innerHTML = `<strong>${formattedDate}</strong>`;
                timeElement.style.marginBottom = '0';
                timeElement.style.minWidth = '120px';
                timeElement.style.textAlign = 'left';
                timeElement.style.color = '#e0e0e0';
                timeElement.style.fontSize = '16px';
                
                // Add special styling for the latest news time
                if (index === 0) {
                  timeElement.style.color = 'var(--primary)';
                  timeElement.style.fontSize = '18px';
                  timeElement.innerHTML = `<strong>${formattedDate}</strong> <span style="color: var(--primary); font-size: 14px;">(Latest)</span>`;
                }

                const contentElement = document.createElement('div');
                contentElement.innerHTML = item.content;
                contentElement.style.color = '#c0f8ca';
                contentElement.style.textAlign = 'left';
                contentElement.style.flexGrow = '1';
                
                // Add special styling for the latest news content
                if (index === 0) {
                  contentElement.style.color = '#a8d8ff';
                  contentElement.style.fontWeight = '500';
                }

                newsItem.appendChild(timeElement);
                newsItem.appendChild(contentElement);
                newsContainer.appendChild(newsItem);
              });
            });

          // Load and display selected papers from papers.json using 'selected' boolean
          fetch('configs/papers.json')
            .then(response => response.json())
            .then(papersData => {
              const papersContainer = document.getElementById('selected-papers-content');
              let hasSelectedPapers = false;
              
              for (const year in papersData) {
                if (Array.isArray(papersData[year])) {
                  papersData[year].forEach(paper => {
                    if (paper.selectedPaper) {
                      hasSelectedPapers = true;
                      // Create new div element for paper
                      const paperDiv = document.createElement('div');
                      paperDiv.className = 'paper-container';
                      paperDiv.style.marginBottom = '30px';
                      
                      // Determine flex direction based on screen width
                      const isMobile = window.innerWidth <= 768;
                      const flexDirection = isMobile ? 'column' : 'row';
                      const imageContainerStyle = isMobile ? 
                        'text-align: center; margin-bottom: 15px; display: flex; justify-content: center; width: 100%;' : 
                        'margin-right: 10px; width: 200px; flex-shrink: 0;';
                      
                      paperDiv.innerHTML = `
                        <div class="paper-item">
                          <div class="paper-logo-wrapper" style="${imageContainerStyle}">
                            <img src="images/publication/${paper.image}" alt="${paper.title}" class="paper-logo" style="width: 200px; height: auto; cursor: pointer; ${isMobile ? 'margin: 0 auto;' : ''}" onclick="openModal('images/publication/${paper.image}')">
                          </div>
                          <div class="paper-info">
                            <h3 id="${paper.title.replace(/[^a-zA-Z0-9]/g, '-')}" class="paper-title">${paper.title}</h3>
                            <p class="paper-authors">${paper.authors.replace(/K. Chen/g, '<span style="text-decoration: underline;">K. Chen</span>')}</p>
                            <p class="paper-venue"><strong style="color: #00FF7F;">${paper.type}</strong> <em>${paper.conference || paper.journal}</em>, ${year}</p>
                            <p class="paper-links" style="text-align: right; margin-top: 10px;">
                              <a href="javascript:void(0);" onclick="showPage('publications', '${paper.title.replace(/[^a-zA-Z0-9]/g, '-')}');" class="jump-btn">Jump→</a>
                            </p>
                          </div>
                        </div>`;
                      papersContainer.appendChild(paperDiv);
                    }
                  });
                }
              }
              
              // If no selected papers found, display a message
              if (!hasSelectedPapers) {
                papersContainer.innerHTML = '<p style="text-align: center; color: #888; padding: 20px;">No research highlights available at the moment.</p>';
              }
            })
            .catch(error => {
              console.error('Error loading selected papers:', error);
              document.getElementById('selected-papers-content').innerHTML = '<p style="text-align: center; color: #888; padding: 20px;">Error loading research highlights.</p>';
            });

          function openModal(imageUrl) {
            const modal = document.getElementById('imageModal');
            const modalImg = document.getElementById('modalImage');
            modal.style.display = 'block';
            modalImg.src = imageUrl;
          }

          function closeModal() {
            const modal = document.getElementById('imageModal');
            modal.style.display = 'none';
          }

          // Close modal when clicking outside the image
          window.onclick = function (event) {
            const modal = document.getElementById('imageModal');
            if (event.target == modal) {
              closeModal();
            }
          }
        </script>
      </section>

<!-- Written by Constantine Heinrich Chen (ConsHein Chen) -->

<!-- Last Change: 2025-09-15 -->

      <section id="experiences">
        <!-- Education and career experience model -->
        <div id="subtitle">
          <h1>Experiences</h1>
          <p>Hope my career journey will be more than just an excursion!</p>
        </div>

        

        <div id="education-experience"></div>

        <!-- Institution Experiences information-->
        <div id="institution-experiences-section">
          <div id="Institution-Experiences-header"></div>
          <div class="section-box">
            <div id="institution-experiences-content" style="padding-left: 20px;"></div>
          </div>
        </div>

        <!-- Honors and Awards -->
        <div id="honors-section">
          <div id="Honors-header"></div>
          <div class="section-box">
            <div id="honor-content" style="padding-left: 20px;"></div>
          </div>
        </div>

        <!-- Teaching -->
        <div id="teaching-section">
          <div id="teaching-header"></div>
          <div class="section-box">
            <div id="teaching-content" style="padding-left: 20px;"></div>
          </div>
        </div>

        <!-- Reviewer -->
        <div id="reviewer-section">
          <div id="reviewer-header"></div>
          <div class="section-box">
            <div id="reviewer-content" style="padding-left: 20px;"></div>
          </div>
        </div>


        <br><br>

        <script>
          // Function to create education experience elements based on provided data
          function createEducationExperience(experienceData) {
            // Get education experience container element
            const container = document.getElementById('education-experience');
            // Create new div element for education container
            const div = document.createElement('div');
            div.className = 'education-container';
            div.innerHTML = `
              <div class="education-item">
                <div class="education-logo-wrapper">
                  <a href="${experienceData.link}" target="_blank"><img src="images/experience/${experienceData.logoSrc}" alt="Institution Logo" class="education-logo"></a>
                </div>
                <div class="education-info">
                  <p class="institution">${experienceData.school}</p>
                  <div class="details">
                    ${experienceData.details.map(detail => `
                    <p style="margin-bottom: 0.3rem;">
                      <strong class="degree">${detail.degree}</strong>
                      <span class="major">${detail.major}</span>, ${detail.college}
                    </p>
                    <p class="time">${detail.time}</p>
                    `).join('')}
                  </div>
                </div>
              </div>`;
            // Append the new education container to the main container
            container.appendChild(div);
          }

          // Load education experience data from JSON file
          fetch('configs/experiences.json')
            .then(response => response.json())
            .then(data => {
              // Display Institution Experiences section title
              const institutionExperiencesHeader = document.getElementById('Institution-Experiences-header');
              institutionExperiencesHeader.innerHTML = `
               <h1 class="section-title" style="margin-top: 40px; font-size: 28px;">Institution Experiences</h1>
              `;
              
              // Get institution experiences content container
              const institutionExperiencesContent = document.getElementById('institution-experiences-content');
              
              // Iterate through each education experience and create corresponding elements
              data.forEach(experience => {
                // Create a new div element for each experience
                const div = document.createElement('div');
                div.className = 'education-container';
                div.style.marginBottom = '30px';
                div.innerHTML = `
                  <div class="education-item">
                    <div class="education-logo-wrapper">
                      <a href="${experience.link}" target="_blank"><img src="images/experience/${experience.logoSrc}" alt="Institution Logo" class="education-logo"></a>
                    </div>
                    <div class="education-info">
                      <p class="institution">${experience.school}</p>
                      <div class="details">
                        ${experience.details.map(detail => `
                        <p style="margin-bottom: 0.3rem;">
                        <strong class="degree">${detail.degree}</strong>
                        <span class="major">${detail.major}</span>, ${detail.college}
                      </p>
                        <p class="time">${detail.time}</p>
                        `).join('')}
                      </div>
                    </div>
                  </div>`;
                
                institutionExperiencesContent.appendChild(div);
              });
            });
          
          // Hide entire honors section if honors.json is empty
          fetch('configs/honors.json')
              .then(response => response.json())
              .then(data => {
                  const honorsSection = document.getElementById('honors-section');
                  if (data.length === 0) {
                    // If honors.json is empty, hide the entire section
                    honorsSection.style.display = 'none';
                  }
                  else {
                    // If honors.json is not empty, display the section
                    const header = document.getElementById('Honors-header');
                    header.innerHTML = `
                     <h1 class="section-title" style="margin-top: 40px; font-size: 28px;">Honors and Awards</h1>
                    `;
                  }
              })
              .catch(error => console.error('Error loading honors.json:', error));

          // Load and display honors from honors.json
          fetch('configs/honors.json')
            .then(response => response.json())
            .then(honorsData => {
              const honorList = document.getElementById('honor-content');
              if (honorsData.length > 0) {
                honorsData.forEach(item => {
                  const div = document.createElement('div');
                  div.style.marginBottom = '20px';
                  div.innerHTML =`
                    <div style="font-size: 18px; display: flex; align-items: baseline; color: #f8f4c0;">• <strong>${item.award}</strong></div>
                    <div style="margin-left: 20px;">${item.unit}, ${item.time}</div>`;
                  honorList.appendChild(div);
                });
              }
            });

          // Hide entire teaching section if teaching.json is empty or invalid
          fetch('configs/teaching.json')
              .then(response => {
                // Check if response is ok and content length is greater than 0
                if (!response.ok || response.headers.get('content-length') === '0') {
                  throw new Error('Empty or invalid response');
                }
                return response.json();
              })
              .then(data => {
                  const teachingSection = document.getElementById('teaching-section');
                  if (!data || data.length === 0) {
                    // If teaching.json is empty, hide the entire section
                    teachingSection.style.display = 'none';
                  }
                  else {
                    // If teaching.json is not empty, display the section
                    const header = document.getElementById('teaching-header');
                    header.innerHTML = `
                     <h1 class="section-title" style="margin-top: 40px; font-size: 28px;">Teaching</h1>
                    `;
                  }
              })
              .catch(error => {
                // If there's an error (like empty file), hide the entire section
                console.error('Error loading teaching.json:', error);
                const teachingSection = document.getElementById('teaching-section');
                teachingSection.style.display = 'none';
              });
          
          // Load and display teaching from teaching.json
          fetch('configs/teaching.json')
              .then(response => {
                // Check if response is ok and content length is greater than 0
                if (!response.ok || response.headers.get('content-length') === '0') {
                  throw new Error('Empty or invalid response');
                }
                return response.json();
              })
              .then(teachingData => {
                const teachingList = document.getElementById('teaching-content');
                if (teachingData && teachingData.length > 0) {
                  teachingData.forEach(item => {
                    const div = document.createElement('div');
                    div.style.marginBottom = '20px';
                    // Check if item.link exists and is not empty
                    if (item.link && item.link.trim() !== '') {
                      div.innerHTML = `
                        <div style="font-size: 18px; display: flex; align-items: baseline; color: #fff00f;">• <a href="${item.link}" target="_blank" style="color: #fff00f;"><span style="font-weight: bold;">${item.code} ${item.course}</span></a>, ${item.school}</div>
                        <div style="margin-left: 20px;">${item.identity}, ${item.season} ${item.year}</div>
                      `;
                    } else {
                      div.innerHTML = 
                      `<div style="font-size: 18px; display: flex; align-items: baseline; color: #fff00f;">• <span style="font-weight: bold;">${item.code} ${item.course}</span>, ${item.school}</div>
                        <div style="margin-left: 20px;">${item.identity}, ${item.season} ${item.year}</div>
                      `;
                    }
                    teachingList.appendChild(div);
                  });
                }
              })
              .catch(error => {
                console.error('Error loading teaching data:', error);
              });

          // Hide entire reviewer section if reviewer.json is empty or invalid
          fetch('configs/reviewer.json')
              .then(response => {
                // Check if response is ok and content length is greater than 0
                if (!response.ok || response.headers.get('content-length') === '0') {
                  throw new Error('Empty or invalid response');
                }
                return response.json();
              })
              .then(data => {
                  const reviewerSection = document.getElementById('reviewer-section');
                  if (!data || data.length === 0) {
                    // If reviewer.json is empty, hide the entire section
                    reviewerSection.style.display = 'none';
                  }
                  else {
                    // If reviewer.json is not empty, display the section
                    const header = document.getElementById('reviewer-header');
                    header.innerHTML = `
                     <h1 class="section-title" style="margin-top: 40px; font-size: 28px;">Reviewer</h1>
                    `;
                  }
              })
              .catch(error => {
                // If there's an error (like empty file), hide the entire section
                console.error('Error loading reviewer.json:', error);
                const reviewerSection = document.getElementById('reviewer-section');
                reviewerSection.style.display = 'none';
              });

          // Load and display reviewer from reviewer.json
          fetch('configs/reviewer.json')
              .then(response => {
                // Check if response is ok and content length is greater than 0
                if (!response.ok || response.headers.get('content-length') === '0') {
                  throw new Error('Empty or invalid response');
                }
                return response.json();
              })
              .then(reviewerData => {
                const reviewerList = document.getElementById('reviewer-content');
                if (reviewerData && reviewerData.length > 0) {
                  reviewerData.forEach(item => {
                    const div = document.createElement('div');
                    div.style.marginBottom = '20px';
                    div.innerHTML =`
                      <div style="font-size: 18px; display: flex; align-items: baseline; color: #00ffff;">• <strong>${item.conference || item.journal}, ${item.year}</strong></div>`;
                    reviewerList.appendChild(div);
                  });
                }
              })
              .catch(error => {
                console.error('Error loading reviewer data:', error);
              });

        </script>
      </section>

      <section id="publications">
        <style>
          .paper-link, .code-link, .video-link, .site-link {
            background-color: var(--primary);
            color: white;
            padding: 8px 16px;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            margin: 0 5px 5px 0;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
          }
          
          .paper-link:hover, .code-link:hover, .video-link:hover, .site-link:hover {
            background-color: var(--secondary);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
          }
          
          
        </style>
        <!-- Header section for the publications -->
        <div id="subtitle">
          <h1>Publications</h1>
          <p>It is my pleasure that you can enjoy reading my publications!</p>
        </div>

        <!-- Academic Papers information-->
        <div id="academic-papers-section">
          <div id="Academic-Papers-header"></div>
          <div class="section-box">
            <div id="academic-papers-content" style="padding-left: 20px;"></div>
          </div>
        </div>

        <!-- Patents information-->
        <div id="patents-section">
          <div id="Patents-header"></div>
          <div class="section-box">
            <div id="patent-content" style="padding-left: 20px;"></div>
          </div>
        </div>

        <br><br>
        
        <script>
            // Hide entire patents section if patents.json is empty
            fetch('configs/patents.json')
              .then(response => response.json())
              .then(data => {
                  const patentsSection = document.getElementById('patents-section');
                  if (data.length === 0 || !data.patents || data.patents.length === 0) {
                    // If patents.json is empty, hide the entire section
                    patentsSection.style.display = 'none';
                  }
                  else {
                    // If patents.json is not empty, display the section
                    const header = document.getElementById('Patents-header');
                    header.innerHTML = `
                     <h1 class="section-title" style="margin-top: 40px; font-size: 28px;">Patents</h1>
                    `;
                  }
              })
              .catch(error => console.error('Error loading patents.json:', error));

            

            // Load and display patents from patents.json
            fetch('configs/patents.json')
              .then(response => response.json())
              .then(PatentData => {
                const patentList = document.getElementById('patent-content');
                if (PatentData.patents && PatentData.patents.length > 0) {
                  PatentData.patents.forEach(item => {
                    const div = document.createElement('div');
                    div.style.marginBottom = '20px';
                    div.innerHTML = `
                      <div style="font-size: 18px; display: flex; align-items: baseline; color:rgb(0, 255, 255);">• <strong>${item.title}</strong></div>
                      <div style="margin-left: 20px;"><span>${item.authors.replace(/K. Chen/g, '<span style="text-decoration: underline;">K. Chen</span>')}</span>.
                      <div><em>${item.type}</em>, <a href="${item.link}" target="_blank">${item.number}</a>, ${item.date}</div>
                      </div>`;
                    patentList.appendChild(div);
                  });
                }
              });

            // Function to create year separator element
            function createYearSeparator(year) {
              // Create new div element for year separator
              const yearDiv = document.createElement('div');
              yearDiv.innerHTML = ``;
              return yearDiv;
            }

            // Function to create paper element based on paper data
            function createPaper(year, paperData) {
              // Create new div element for paper
              const paperDiv = document.createElement('div');
              paperDiv.className = 'paper-container';
              paperDiv.style.marginBottom = '30px';
              
              // Determine flex direction based on screen width
              const isMobile = window.innerWidth <= 768;
              const flexDirection = isMobile ? 'column' : 'row';
              const imageContainerStyle = isMobile ? 
                'text-align: center; margin-bottom: 15px; display: flex; justify-content: center; width: 100%;' : 
                'margin-right: 10px; width: 200px; flex-shrink: 0;';
              
              paperDiv.innerHTML = `
                <div class="paper-item">
                  <div class="paper-logo-wrapper" style="${imageContainerStyle}">
                    <img src="images/publication/${paperData.image}" alt="${paperData.title}" class="paper-logo" style="width: 200px; height: auto; cursor: pointer; ${isMobile ? 'margin: 0 auto;' : ''}" onclick="openModal('images/publication/${paperData.image}')">
                  </div>
                  <div class="paper-info">
                    <h3 id="${paperData.title.replace(/[^a-zA-Z0-9]/g, '-')}" class="paper-title">${paperData.title}</h3>
                    <p class="paper-authors">${paperData.authors.replace(/K. Chen/g, '<span style="text-decoration: underline;">K. Chen</span>')}</p>
                    <p class="paper-venue"><strong style="color: #00FF7F;">${paperData.type}</strong> <em>${paperData.conference || paperData.journal}</em>, ${year}</p>
                    <p class="paper-links" style="text-align: left; margin-top: 10px;">
                      <a href="${paperData.paperLink}" target="_blank" class="paper-link">PAPER</a>
                      ${paperData.codeLink ? `<a href="${paperData.codeLink}" target="_blank" class="code-link">CODE</a>` : ''}
                      ${paperData.videoLink ? `<a href="${paperData.videoLink}" target="_blank" class="video-link">VIDEO</a>` : ''}
                      ${paperData.siteLink ? `<a href="${paperData.siteLink}" target="_blank" class="site-link">SITE</a>` : ''}
                    </p>
                  </div>
                </div>`;
              return paperDiv;
            }

            // Load paper data from JSON file
            fetch('configs/papers.json')
              .then(response => {
                console.log("Papers response status:", response.status);
                return response.json();
              })
              .then(data => {
                console.log("Papers data loaded:", data);
                
                // Display Academic Papers section title
                const academicPapersHeader = document.getElementById('Academic-Papers-header');
                if (!academicPapersHeader) {
                  console.error('Academic Papers header element not found');
                  return;
                }
                
                academicPapersHeader.innerHTML = `
                 <h1 class="section-title" style="margin-top: 40px; font-size: 28px;">Academic Papers</h1>
                `;
                
                // Get academic papers content container
                const academicPapersContent = document.getElementById('academic-papers-content');
                if (!academicPapersContent) {
                  console.error('Academic Papers content element not found');
                  return;
                }
                
                // Traverse in chronological order to ensure consistency with the JSON file
                const sortedYears = Object.keys(data).sort((a, b) => b - a);
                console.log("Sorted years:", sortedYears);
                
                sortedYears.forEach(year => {
                  console.log("Processing year:", year);
                  
                  // Create a year separator
                  const yearDiv = document.createElement('div');
                  yearDiv.style.marginBottom = '10px';
                  yearDiv.style.textAlign = 'right';
                  yearDiv.innerHTML = `<strong style="color: #00ffff; font-size: 28px;">${year}</strong>`;
                  academicPapersContent.appendChild(yearDiv);
                  
                  // Iterate through each paper in the current year
                  data[year].forEach(paper => {
                    console.log("Processing paper:", paper.title);
                    const paperElement = createPaper(year, paper);
                    academicPapersContent.appendChild(paperElement);
                  });
                });
                
                console.log("All papers rendered");
              })
              .catch(error => {
                console.error('Error loading papers data:', error);
              });
            
          </script>
      </section>

      <section id="cv">
        <!-- Header section for the CV -->
        <div id="subtitle">
          <h1>Curriculum Vitae</h1>
          <p>Looking forward to your appreciation!</p>
        </div>
        
        <style>
          .download-btn {
            background-color: var(--primary);
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 30px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 20px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            display: inline-flex;
            align-items: center;
            justify-content: center;
          }
          
          .download-btn:before {
            content: '↓';
            margin-right: 8px;
            font-size: 18px;
          }
          
          .download-btn:hover {
            background-color: var(--secondary);
            transform: translateY(-3px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.2);
          }
          
          .download-btn.pulse {
            animation: pulse 2s infinite;
          }
        </style>
        <button class="download-btn pulse" onclick="window.open('./configs/cv.pdf', '_blank')">Download this PDF</button>
        <script>
          document.write('<object data="./configs/cv.pdf?t=' + new Date().getTime() + '" type="application/pdf" width="100%" height="800px">');
        </script>
        <p>
          Your browser does not support PDF files.
        </p>
        </object>

        <br><br>

      </section>
    </div>
  </div>

  <script>
    // Performance optimization: use throttle function to limit scroll event trigger frequency
    let lastScrollTop = 0;
    window.addEventListener('scroll', throttle(function() {
      const nav = document.querySelector('nav');
      const scrollTop = window.scrollY;
      
      // Only change class if scroll position crosses the threshold
      if (scrollTop > 50 && lastScrollTop <= 50) {
        nav.classList.add('scrolled');
      } else if (scrollTop <= 50 && lastScrollTop > 50) {
        nav.classList.remove('scrolled');
      }
      
      lastScrollTop = scrollTop;
    }, 100)); // Execute at most once every 100ms

    // Performance optimization: use throttle function to limit scroll animation trigger frequency
    function revealOnScroll() {
      // All content is now visible by default, no need for scroll-triggered animations
      const reveals = document.querySelectorAll('.reveal');
      
      reveals.forEach(element => {
        element.classList.add('active');
      });
    }

    // Initial check and mobile device handling
    document.addEventListener('DOMContentLoaded', function() {
      // Ensure page starts at the top
      window.scrollTo(0, 0);
      
      // Show all content immediately
      revealOnScroll();
      
      // For home page, ensure all sections are visible
      showPage('home');
      
      // Check if in mobile view, show sidebar by default
      if (window.innerWidth <= 768 || window.innerHeight <= 667) {
        // Hide all sections
        document.querySelectorAll('section').forEach(sec => sec.classList.remove('active'));
        
        // Hide main content
        document.querySelector('.main-content').style.display = 'none';
        
        // Show left sidebar
        const leftSidebar = document.querySelector('.left-sidebar');
        leftSidebar.style.display = 'block';
        
        // Force reflow to ensure animation works
        void leftSidebar.offsetWidth;
        
        // Add active class to show animation
        setTimeout(() => {
          leftSidebar.classList.add('active');
        }, 100);
      }
      
      // Performance optimization: add lazy loading for images
      const images = document.querySelectorAll('img');
      images.forEach(img => {
        if (!img.hasAttribute('loading')) {
          img.setAttribute('loading', 'lazy');
        }
      });
      
      // Handle screen orientation change
      function handleOrientationChange() {
        // Get current active page
        const activeSection = document.querySelector('section.active');
        if (activeSection) {
          const pageId = activeSection.id;
          
          // Reapply page layout based on current orientation
          if (window.innerWidth <= 768 || window.innerHeight <= 667) {
            // Mobile view
            if (pageId === 'home') {
              // For home page in mobile view, show sidebar by default
              document.querySelectorAll('section').forEach(sec => sec.classList.remove('active'));
              document.querySelector('.main-content').style.display = 'none';
              
              const leftSidebar = document.querySelector('.left-sidebar');
              leftSidebar.style.display = 'block';
              leftSidebar.classList.add('active');
            } else {
              // For other pages in mobile view, show content
              document.querySelector('.left-sidebar').style.display = 'none';
              document.querySelector('.left-sidebar').classList.remove('active');
              document.querySelector('.main-content').style.display = 'block';
            }
          } else {
            // Desktop view
            document.querySelector('.left-sidebar').style.display = 'block';
            document.querySelector('.left-sidebar').classList.add('active');
            document.querySelector('.main-content').style.display = 'block';
          }
          
          // Ensure the correct section is active
          document.querySelectorAll('section').forEach(section => {
            section.classList.remove('active');
          });
          document.getElementById(pageId).classList.add('active');
          
          // Update navigation highlight
          document.querySelectorAll('nav a').forEach(navLink => {
            navLink.classList.remove('active');
          });
          
          const activeNavLink = pageId === 'publications' 
            ? document.getElementById('nav-publications') 
            : document.getElementById(`nav-${pageId}`);
          if (activeNavLink) {
            activeNavLink.classList.add('active');
          }
        }
      }
      
      // Add event listeners for orientation changes
      window.addEventListener('resize', handleOrientationChange);
      window.addEventListener('orientationchange', handleOrientationChange);
    });

    // Function to show sidebar in mobile view
    function showSidebar() {
      // Check if we're in mobile view
      if (window.innerWidth <= 768 || window.innerHeight <= 667) {
        // Hide all sections
        document.querySelectorAll('section').forEach(sec => sec.classList.remove('active'));
        
        // Hide main content
        document.querySelector('.main-content').style.display = 'none';
        
        // Show left sidebar
        const leftSidebar = document.querySelector('.left-sidebar');
        leftSidebar.style.display = 'block';
        
        // Force a reflow to ensure the animation works
        void leftSidebar.offsetWidth;
        
        // Add active class for reveal animation
        leftSidebar.classList.add('active');
        
        // Update navigation bar highlight status
        document.querySelectorAll('nav a').forEach(navLink => {
          navLink.classList.remove('active');
        });
        
        // Scroll to top
        window.scrollTo(0, 0);
      }
    }

    // Performance optimization: cache DOM query results
    const cachedElements = {
      sections: null,
      navLinks: null,
      sidebarLinks: null,
      
      mainContent: null,
      leftSidebar: null
    };
    
    // Get cached DOM elements
    function getCachedElements() {
      if (!cachedElements.sections) {
        cachedElements.sections = document.querySelectorAll('section');
        cachedElements.navLinks = document.querySelectorAll('nav a');
        cachedElements.sidebarLinks = document.querySelectorAll('#mySidebar a:not(.closebtn)');
        
        cachedElements.mainContent = document.querySelector('.main-content');
        cachedElements.leftSidebar = document.querySelector('.left-sidebar');
      }
      return cachedElements;
    }

    // Performance optimization: use debounce function to handle page switching
    function showPage(pageId, targetId) {
      // Use debounce function to reduce performance consumption during frequent switching
      if (window.showPageTimeout) {
        clearTimeout(window.showPageTimeout);
      }
      
      window.showPageTimeout = setTimeout(() => {
        const elements = getCachedElements();
        
        // For home page, only show home section
        // For other pages, hide all sections first then show the target one
        if (pageId === 'home') {
          // For home page, hide all sections first then show only home section
          elements.sections.forEach(section => {
            section.classList.remove('active');
          });
          
          // Add 'active' class to home section to ensure it's visible
          const homeSection = document.getElementById('home');
          if (homeSection) {
            homeSection.classList.add('active');
          }
        } else {
          // For other pages, hide all sections first then show the target one
          elements.sections.forEach(section => {
            section.classList.remove('active');
          });
          
          // Add 'active' class to target section to ensure it's visible
          const targetSection = document.getElementById(pageId);
          if (targetSection) {
            targetSection.classList.add('active');
          }
        }

        // In mobile view, hide left sidebar and show main content
        if (window.innerWidth <= 768 || window.innerHeight <= 667) {
          elements.leftSidebar.style.display = 'none';
          elements.leftSidebar.classList.remove('active');
          elements.mainContent.style.display = 'block';
        }

        // Only scroll to top if no target element is specified
        if (!targetId) {
          window.scrollTo(0, 0);
        }

        // Reset news section scroll
        if (pageId === 'home') {
          const newsContainer = document.querySelector('#home .section-title + .section-box');
          if (newsContainer) newsContainer.scrollTop = 0;
        }

        // Update navigation bar highlight status
        elements.navLinks.forEach(navLink => {
          navLink.classList.remove('active');
        });
        elements.sidebarLinks.forEach(navLink => {
          navLink.classList.remove('active');
        });
        
        const activeNavLink = pageId === 'publications' 
          ? document.getElementById('nav-publications') 
          : document.getElementById(`nav-${pageId}`);
        if (activeNavLink) {
          activeNavLink.classList.add('active');
        }

        // Scroll to specified target element
        if (targetId) {
          // Wait for publications section to fully render
          setTimeout(() => {
            const element = document.getElementById(targetId);
            if (element) {
              console.log("Found target element:", targetId);
              
              // Find the paper container instead of just the title element
              const paperContainer = element.closest('.paper-container');
              if (paperContainer) {
                console.log("Found paper container");
                const containerRect = paperContainer.getBoundingClientRect();
                // Calculate the position to align the middle of the paper container with the middle of the viewport
                const containerMiddle = containerRect.top + window.pageYOffset + (containerRect.height / 2);
                const scrollToPosition = containerMiddle - (window.innerHeight / 2);
                console.log("Scrolling to position:", scrollToPosition);
                window.scrollTo({
                  top: scrollToPosition,
                  behavior: 'smooth'
                });
              } else {
                console.error("Paper container not found for element:", targetId);
                // Fallback to original behavior if container not found
                const elementRect = element.getBoundingClientRect();
                const elementMiddle = elementRect.top + window.pageYOffset + (elementRect.height / 2);
                const scrollToPosition = elementMiddle - (window.innerHeight / 2);
                console.log("Fallback: Scrolling to position:", scrollToPosition);
                window.scrollTo({
                  top: scrollToPosition,
                  behavior: 'smooth'
                });
              }
            } else {
              console.error("Target element not found:", targetId);
            }
          }, 500); // Increased delay to ensure page is fully rendered
        }
      }, 50); // 50ms debounce delay
    }

    
  </script>

  <!-- Performance optimization: resource management and monitoring -->
  <script>
    // Resource management on page visibility change
    document.addEventListener('visibilitychange', function() {
      if (document.hidden) {
        // When page is hidden, pause all videos and animations
        document.querySelectorAll('[id^="video-"] iframe').forEach(iframe => {
          const src = iframe.src;
          iframe.src = '';
          iframe.dataset.originalSrc = src; // Save original source for restoration
        });
        
        // Pause CSS animations
        document.querySelectorAll('*').forEach(element => {
          const computedStyle = window.getComputedStyle(element);
          if (computedStyle.animationName !== 'none') {
            element.style.animationPlayState = 'paused';
            element.dataset.wasAnimationPaused = 'true';
          }
        });
      } else {
        // When page is visible, restore necessary videos and animations
        const visibleVideos = document.querySelectorAll('[id^="video-"][style*="display: block"] iframe');
        visibleVideos.forEach(iframe => {
          const originalSrc = iframe.dataset.originalSrc;
          if (originalSrc) {
            iframe.src = originalSrc;
          }
        });
        
        // Restore CSS animations
        document.querySelectorAll('[data-was-animation-paused="true"]').forEach(element => {
          element.style.animationPlayState = 'running';
          delete element.dataset.wasAnimationPaused;
        });
      }
    });

    // Memory usage monitoring and resource cleanup
    let lastActivityTime = Date.now();
    let inactivityTimer;
    
    // Reset activity timer
    function resetActivityTimer() {
      lastActivityTime = Date.now();
      clearTimeout(inactivityTimer);
      
      // Set inactivity timeout (5 minutes)
      inactivityTimer = setTimeout(() => {
        // Execute resource cleanup
        performResourceCleanup();
      }, 300000); // 5 minutes
    }
    
    // Monitor user activity
    ['mousedown', 'mousemove', 'keypress', 'scroll', 'touchstart', 'click'].forEach(eventType => {
      document.addEventListener(eventType, resetActivityTimer, true);
    });
    
    // Resource cleanup function
    function performResourceCleanup() {
      // Clean up unused video iframes
      document.querySelectorAll('[id^="video-"][style*="display: none"] iframe').forEach(iframe => {
        iframe.src = '';
      });
      
      // Trigger garbage collection (non-standard API, only works in supported browsers)
      if (window.gc) {
        window.gc();
      }
      
      console.log('Resource cleanup completed');
    }
    
    // Clean up resources when page unloads
    window.addEventListener('beforeunload', function() {
      // Clean up all video resources
      document.querySelectorAll('[id^="video-"] iframe').forEach(iframe => {
        iframe.src = '';
      });
      
      // Clean up event listeners
      ['mousedown', 'mousemove', 'keypress', 'scroll', 'touchstart', 'click'].forEach(eventType => {
        document.removeEventListener(eventType, resetActivityTimer, true);
      });
      
      clearTimeout(inactivityTimer);
    });
    
    // Initialize activity timer
    resetActivityTimer();
  </script>

  <!-- Image Modal -->
  <div id="imageModal" class="modal">
    <span class="close-btn" onclick="closeModal()">&times;</span>
    <img class="modal-content" id="modalImage">
    <div class="modal-caption"></div>
  </div>

</body>

<!-- Written by Constantine Heinrich Chen (ConsHein Chen) -->

<!-- Last Change: 2025-09-15 -->

<footer>
  <p style="margin: 0; font-size: 16px;">&copy; 2025 Excursion ConsHein.<span class="footer-break"> </span>Powered by <a href="https://jekyllrb.com/" target="_blank">Jekyll.</a></p>
</footer>

</html>
